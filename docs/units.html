<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>FIELA ‚Äî Interactive Units for Grade 4</title>
	<style>
		:root {
			--bg: #E8F4F8;
			--card: #FFFFFF;
			--muted: #5b6b7a;
			--accent: #FF6B9D;
			--primary: #6B5AFF;
			--secondary: #FFB347;
			--accent2: #00D4FF;
		}

		* { margin: 0; padding: 0; box-sizing: border-box; }

		html, body {
			min-height: 100%;
			background: linear-gradient(135deg, #FFB6E1 0%, #B4A7FF 50%, #90EE90 100%);
			color: #07314a;
			font-family: 'Comic Sans MS', 'Trebuchet MS', cursive, sans-serif;
			font-size: 16px;
		}

		header {
			background: linear-gradient(135deg, #FFFFFF, #FFF5E1);
			padding: 25px;
			border-bottom: 6px solid var(--secondary);
			box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
		}

		header h1 { margin: 0 0 4px 0; font-size: 28px; color: var(--accent); font-weight: 900; }
		header small { color: var(--muted); font-size: 14px; font-weight: 600; }

		.search-bar {
			display: flex;
			gap: 12px;
			align-items: center;
			margin-top: 14px;
			flex-wrap: wrap;
		}

		.search {
			flex: 1;
			min-width: 240px;
			padding: 12px 16px;
			border: 3px solid var(--secondary);
			border-radius: 25px;
			font-size: 14px;
			font-family: inherit;
			box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
		}

		.badge { background: linear-gradient(135deg, var(--secondary), var(--accent)); color: white; padding: 8px 16px; border-radius: 25px; font-weight: 700; font-size: 12px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); }

		.container { max-width: 1200px; margin: 20px auto; padding: 0 16px; }

		.grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
			gap: 25px;
		}

		.unit {
			background: linear-gradient(135deg, rgba(255, 255, 255, 0.98), var(--card));
			border-radius: 25px;
			padding: 25px;
			box-shadow: 0 12px 35px rgba(0, 0, 0, 0.12);
			display: flex;
			flex-direction: column;
			gap: 15px;
			transition: all 0.3s ease;
			border: 5px solid var(--secondary);
			position: relative;
		}

		.unit:hover { transform: translateY(-8px); box-shadow: 0 18px 50px rgba(0, 0, 0, 0.18); }

		.unit::before {
			content: '‚≠ê';
			position: absolute;
			top: -15px;
			right: 20px;
			font-size: 2em;
			animation: spin 2s linear infinite;
		}

		@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

		.unit-header { display: flex; align-items: center; gap: 14px; }

		.unit-avatar { width: 70px; height: 70px; border-radius: 20px; display: flex; align-items: center; justify-content: center; font-size: 40px; background: linear-gradient(135deg, var(--secondary), var(--accent)); box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15); }

		.unit h2 { margin: 0; font-size: 20px; color: var(--accent); font-weight: 900; }
		.unit .meta { font-size: 13px; color: var(--muted); font-weight: 600; }

		.vocab-preview {
			background: linear-gradient(135deg, #FFF5E1, #FFE0B2);
			padding: 15px;
			border-radius: 15px;
			font-size: 12px;
			color: #333;
			border: 3px solid var(--secondary);
		}

		.vocab-preview strong { color: var(--accent); font-weight: 900; }

		.scenes-list {
			display: flex;
			flex-direction: column;
			gap: 8px;
		}

		.scene-btn {
			background: linear-gradient(135deg, #FFFFFF, #FFF5E1);
			border: 3px solid var(--accent2);
			padding: 12px 16px;
			border-radius: 15px;
			font-size: 13px;
			cursor: pointer;
			text-align: left;
			transition: all 0.2s ease;
			display: flex;
			align-items: center;
			gap: 10px;
			font-weight: 700;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
		}

		.scene-btn:hover { background: linear-gradient(135deg, #FFF5E1, #FFE0B2); transform: translateX(6px); box-shadow: 0 6px 18px rgba(0, 107, 214, 0.2); }
		.scene-btn:active { transform: translateX(2px); }

		.scene-emoji { font-size: 20px; }
		.scene-title { font-weight: 700; color: #07314a; }

		/* Modal */
		.modal-backdrop {
			position: fixed;
			inset: 0;
			background: rgba(0, 0, 0, 0.6);
			display: none;
			align-items: center;
			justify-content: center;
			padding: 16px;
			z-index: 1200;
			overflow-y: auto;
		}

		.modal-backdrop.active { display: flex; }

		.modal {
			background: linear-gradient(135deg, #FFFFFF, #FFF5E1);
			width: 100%;
			max-width: 950px;
			border-radius: 25px;
			padding: 30px;
			box-shadow: 0 25px 70px rgba(0, 0, 0, 0.3);
			border: 8px dashed var(--secondary);
			max-height: 90vh;
			overflow-y: auto;
		}

		.modal-header { display: flex; align-items: center; gap: 12px; margin-bottom: 20px; }
		.modal-header h3 { margin: 0; flex: 1; font-size: 24px; color: var(--accent); font-weight: 900; }
		.close-btn { background: var(--secondary); border: 0; padding: 10px 15px; border-radius: 15px; cursor: pointer; font-weight: 700; font-size: 18px; color: white; transition: all 0.2s; }
		.close-btn:hover { transform: scale(1.1); }

		.modal-meta { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; padding: 15px; background: linear-gradient(135deg, #FFF5E1, #FFE0B2); border-radius: 15px; margin-bottom: 15px; font-size: 13px; border: 3px solid var(--secondary); }
		.meta-item strong { color: var(--accent); display: block; margin-bottom: 4px; font-weight: 900; }

		.scene-image { width: 100%; max-height: 350px; object-fit: cover; border-radius: 20px; margin: 15px 0; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); border: 5px solid var(--accent2); }

		.narrative { line-height: 1.8; color: #333; margin: 15px 0; font-size: 1.05em; }

		.dialog-section { margin: 20px 0; }
		.dialog-section h4 { margin: 0 0 12px 0; color: var(--accent); font-size: 16px; font-weight: 900; }

		.chat-bubble { display: flex; flex-direction: column; gap: 10px; }
		.bubble {
			padding: 15px 18px;
			border-radius: 18px;
			font-size: 15px;
			line-height: 1.6;
			max-width: 85%;
			box-shadow: 0 6px 20px rgba(0, 0, 0, 0.12);
			border: 3px solid white;
		}

		.bubble-who { font-weight: 900; font-size: 13px; color: #063a59; margin-bottom: 6px; text-transform: uppercase; }
		.bubble.fiela { align-self: flex-end; background: linear-gradient(135deg, #B3E5FC, #81D4FA); border-color: var(--accent2); }
		.bubble.other { align-self: flex-start; background: linear-gradient(135deg, #FFE0B2, #FFCC80); border-color: var(--secondary); }

		.interactive-section {
			background: linear-gradient(135deg, #C8E6C9, #A5D6A7);
			padding: 15px;
			border-radius: 15px;
			border-left: 6px solid var(--accent2);
			margin: 15px 0;
			border: 3px solid var(--accent2);
		}

		.interactive-section h4 { margin: 0 0 10px 0; color: #1B5E20; font-size: 14px; font-weight: 900; }

		.interactive-buttons { display: flex; gap: 10px; flex-wrap: wrap; }

		.interactive-btn {
			background: linear-gradient(135deg, var(--accent2), #4FC3F7);
			color: white;
			padding: 10px 14px;
			border-radius: 12px;
			border: 0;
			cursor: pointer;
			font-size: 12px;
			font-weight: 700;
			transition: all 0.2s;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
		}

		.interactive-btn:hover { transform: translateY(-4px); box-shadow: 0 8px 20px rgba(0, 107, 214, 0.3); }

		.controls {
			display: flex;
			gap: 12px;
			margin-top: 20px;
			align-items: center;
			flex-wrap: wrap;
		}

		.control-btn {
			background: linear-gradient(135deg, var(--primary), #6B5AFF);
			color: white;
			padding: 12px 18px;
			border-radius: 15px;
			border: 0;
			cursor: pointer;
			font-weight: 700;
			font-size: 14px;
			transition: all 0.2s;
			box-shadow: 0 6px 18px rgba(107, 90, 255, 0.2);
		}

		.control-btn:hover { transform: translateY(-3px); box-shadow: 0 10px 28px rgba(107, 90, 255, 0.4); }
		.control-btn:disabled { opacity: 0.5; cursor: not-allowed; }

		.progress-bar { width: 100%; height: 10px; background: #E0E0E0; border-radius: 10px; overflow: hidden; margin: 12px 0; border: 2px solid var(--secondary); }
		.progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent2), var(--primary)); }

		@media (max-width: 768px) {
			.modal-meta { grid-template-columns: 1fr; }
			.bubble { max-width: 95%; }
			.controls { flex-direction: column; }
			.control-btn { width: 100%; }
			.grid { grid-template-columns: 1fr; }
		}
	</style>
	<link rel="icon" type="image/png" href="favicon.png"> 
	<link rel="shortcut icon" type="image/png" href="favicon.png">
</head>
<body>
	<header>
		<h1>üåü FIELA ‚Äî Interactive English Learning Units üåü</h1>
		<small>5 Fun Units ‚Ä¢ 8 Awesome Scenes each ‚Ä¢ Perfect for Grade 4 Kids!</small>
		<div class="search-bar">
			<input id="searchInput" class="search" placeholder="üîç Search units or words (try 'toothbrush', 'family')...">
			<span class="badge">‚≠ê Grade 4 ‚≠ê</span>
		</div>
	</header>

	<main class="container">
		<section class="grid" id="unitsGrid"></section>
	</main>

	<!-- Scene Modal -->
	<div id="modalBackdrop" class="modal-backdrop">
		<article class="modal">
			<div class="modal-header">
				<h3 id="modalTitle"></h3>
				<button id="closeModal" class="close-btn">‚úñ</button>
			</div>

			<div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>

			<div class="modal-meta">
				<div class="meta-item">
					<strong>üìç Setting:</strong> <span id="modalSetting"></span>
				</div>
				<div class="meta-item">
					<strong>üéØ Learn:</strong> <span id="modalVocab"></span>
				</div>
			</div>

			<audio id="sceneAudio" controls style="width:100%;margin:10px 0;display:none"></audio>

			<img id="sceneImage" class="scene-image" alt="Scene">

			<div class="narrative" id="modalNarrative"></div>

			<div class="dialog-section">
				<h4>üí¨ What They Say</h4>
				<div id="modalDialog" class="chat-bubble"></div>
			</div>

			<div class="interactive-section">
				<h4>üéÆ Try These!</h4>
				<div id="interactiveButtons" class="interactive-buttons"></div>
			</div>

			<div class="controls">
				<button id="prevBtn" class="control-btn">‚¨ÖÔ∏è Previous</button>
				<button id="nextBtn" class="control-btn">Next ‚û°Ô∏è</button>
				<button id="vocabBtn" class="scene-btn" style="margin-left: auto;">üìö All Words</button>
			</div>
		</article>
	</div>

	<script src="script.js"></script>
	<script src="units-data.js"></script>
</body>
</html>