<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>FIELA ‚Äî Interactive Units for Grade 4</title>
	<style>
		:root {
			--bg: #f0fbff;
			--card: #ffffff;
			--muted: #5b6b7a;
			--accent: #0b6b9a;
			--primary: #2aa9df;
			--secondary: #ffb04c;
			--accent2: #7bd389;
		}

		* { margin: 0; padding: 0; box-sizing: border-box; }

		html, body {
			min-height: 100%;
			background: radial-gradient(1200px 400px at 10% 0%, rgba(42, 169, 223, 0.06), transparent 10%),
						radial-gradient(1000px 300px at 90% 100%, rgba(123, 211, 137, 0.04), transparent 10%),
					 linear-gradient(180deg, #e7fbff 0%, var(--bg) 100%);
			color: #07314a;
			font-family: "Poppins", "Segoe UI", system-ui, sans-serif;
			font-size: 16px;
		}

		header {
			background: rgba(255, 255, 255, 0.95);
			padding: 20px;
			border-bottom: 2px dashed rgba(8, 30, 60, 0.08);
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.04);
		}

		header h1 { margin: 0 0 4px 0; font-size: 24px; color: #0b6b9a; }
		header small { color: var(--muted); font-size: 14px; }

		.search-bar {
			display: flex;
			gap: 12px;
			align-items: center;
			margin-top: 14px;
			flex-wrap: wrap;
		}

		.search {
			flex: 1;
			min-width: 240px;
			padding: 10px 14px;
			border: 1px solid rgba(8, 30, 60, 0.1);
			border-radius: 10px;
			font-size: 14px;
		}

		.badge { background: var(--secondary); color: white; padding: 6px 12px; border-radius: 20px; font-weight: 600; font-size: 12px; }

		.container { max-width: 1200px; margin: 20px auto; padding: 0 16px; }

		.grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
			gap: 18px;
		}

		.unit {
			background: linear-gradient(180deg, rgba(255, 255, 255, 0.98), var(--card));
			border-radius: 16px;
			padding: 18px;
			box-shadow: 0 8px 24px rgba(6, 30, 60, 0.08);
			display: flex;
			flex-direction: column;
			gap: 12px;
			transition: transform 0.2s ease, box-shadow 0.2s ease;
		}

		.unit:hover { transform: translateY(-4px); box-shadow: 0 12px 32px rgba(6, 30, 60, 0.12); }

		.unit-header { display: flex; align-items: center; gap: 14px; }

		.unit-avatar { width: 56px; height: 56px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 32px; background: linear-gradient(135deg, rgba(42, 169, 223, 0.1), rgba(123, 211, 137, 0.1)); }

		.unit h2 { margin: 0; font-size: 18px; color: var(--accent); }
		.unit .meta { font-size: 12px; color: var(--muted); }

		.vocab-preview {
			background: linear-gradient(180deg, rgba(238, 247, 255, 0.95), rgba(255, 255, 255, 0.98));
			padding: 10px;
			border-radius: 10px;
			font-size: 12px;
			color: #09457a;
		}

		.vocab-preview strong { color: var(--accent); }

		.scenes-list {
			display: flex;
			flex-direction: column;
			gap: 6px;
		}

		.scene-btn {
			background: linear-gradient(180deg, #fff, #f7fbff);
			border: 1px solid rgba(11, 107, 154, 0.08);
			padding: 10px 12px;
			border-radius: 10px;
			font-size: 13px;
			cursor: pointer;
			text-align: left;
			transition: all 0.15s ease;
			display: flex;
			align-items: center;
			gap: 8px;
		}

		.scene-btn:hover { background: linear-gradient(180deg, #fff, rgba(223, 248, 255, 0.9)); box-shadow: 0 4px 12px rgba(11, 107, 154, 0.12); transform: translateX(4px); }
		.scene-btn:active { transform: translateX(2px); }

		.scene-emoji { font-size: 18px; }
		.scene-title { font-weight: 500; color: #07314a; }

		/* Modal */
		.modal-backdrop {
			position: fixed;
			inset: 0;
			background: rgba(7, 14, 25, 0.5);
			display: none;
			align-items: center;
			justify-content: center;
			padding: 16px;
			z-index: 1200;
			overflow-y: auto;
		}

		.modal-backdrop.active { display: flex; }

		.modal {
			background: var(--card);
			width: 100%;
			max-width: 900px;
			border-radius: 16px;
			padding: 24px;
			box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
			border: 2px solid rgba(255, 255, 255, 0.7);
			max-height: 90vh;
			overflow-y: auto;
		}

		.modal-header { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; }
		.modal-header h3 { margin: 0; flex: 1; font-size: 20px; color: var(--accent); }
		.close-btn { background: #efefef; border: 0; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight: 600; }
		.close-btn:hover { background: #e0e0e0; }

		.modal-meta { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; padding: 12px; background: #f7fbff; border-radius: 10px; margin-bottom: 12px; font-size: 13px; }
		.meta-item strong { color: var(--accent); display: block; margin-bottom: 4px; }

		.scene-image { width: 100%; max-height: 300px; object-fit: cover; border-radius: 12px; margin: 12px 0; }

		.narrative { line-height: 1.6; color: #333; margin: 12px 0; }

		.dialog-section { margin: 16px 0; }
		.dialog-section h4 { margin: 0 0 10px 0; color: var(--accent); font-size: 14px; }

		.chat-bubble { display: flex; flex-direction: column; gap: 8px; }
		.bubble {
			padding: 10px 12px;
			border-radius: 12px;
			font-size: 14px;
			line-height: 1.4;
			max-width: 80%;
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
		}

		.bubble-who { font-weight: 700; font-size: 12px; color: #063a59; margin-bottom: 4px; }
		.bubble.fiela { align-self: flex-end; background: linear-gradient(180deg, #dff8ff, #bfeef5); border: 1px solid rgba(7, 100, 140, 0.1); }
		.bubble.other { align-self: flex-start; background: linear-gradient(180deg, #fff8e6, #fff3da); border: 1px solid rgba(160, 120, 45, 0.1); }

		.interactive-section {
			background: linear-gradient(180deg, rgba(123, 211, 137, 0.08), rgba(123, 211, 137, 0.04));
			padding: 12px;
			border-radius: 10px;
			border-left: 4px solid var(--accent2);
			margin: 12px 0;
		}

		.interactive-section h4 { margin: 0 0 8px 0; color: var(--accent2); font-size: 13px; }

		.interactive-buttons { display: flex; gap: 8px; flex-wrap: wrap; }

		.interactive-btn {
			background: var(--accent2);
			color: white;
			padding: 8px 10px;
			border-radius: 8px;
			border: 0;
			cursor: pointer;
			font-size: 12px;
			font-weight: 600;
			transition: all 0.2s;
		}

		.interactive-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(123, 211, 137, 0.3); }

		.controls {
			display: flex;
			gap: 8px;
			margin-top: 16px;
			align-items: center;
			flex-wrap: wrap;
		}

		.control-btn {
			background: var(--primary);
			color: white;
			padding: 10px 14px;
			border-radius: 8px;
			border: 0;
			cursor: pointer;
			font-weight: 600;
			font-size: 13px;
			transition: all 0.2s;
		}

		.control-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(42, 169, 223, 0.2); }
		.control-btn:disabled { opacity: 0.5; cursor: not-allowed; }

		.progress-bar { width: 100%; height: 6px; background: #e0e0e0; border-radius: 3px; overflow: hidden; margin: 8px 0; }
		.progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent2), var(--primary)); }

		@media (max-width: 768px) {
			.modal-meta { grid-template-columns: 1fr; }
			.bubble { max-width: 95%; }
			.controls { flex-direction: column; }
			.control-btn { width: 100%; }
			.grid { grid-template-columns: 1fr; }
		}
	</style>
</head>
<body>
	<header>
		<h1>üåü FIELA ‚Äî Interactive English Learning Units</h1>
		<small>5 Units ‚Ä¢ 8 Scenes each ‚Ä¢ Perfect for Grade 4 Students</small>
		<div class="search-bar">
			<input id="searchInput" class="search" placeholder="Search units or vocabulary (e.g., 'toothbrush', 'family')...">
			<span class="badge">‚≠ê Grade 4</span>
		</div>
	</header>

	<main class="container">
		<section class="grid" id="unitsGrid"></section>
	</main>

	<!-- Scene Modal -->
	<div id="modalBackdrop" class="modal-backdrop">
		<article class="modal">
			<div class="modal-header">
				<h3 id="modalTitle"></h3>
				<button id="closeModal" class="close-btn">‚úñ Close</button>
			</div>

			<div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>

			<div class="modal-meta">
				<div class="meta-item">
					<strong>Setting:</strong> <span id="modalSetting"></span>
				</div>
				<div class="meta-item">
					<strong>Vocabulary Focus:</strong> <span id="modalVocab"></span>
				</div>
			</div>

			<!-- Add scene audio player (hidden when no audio) -->
			<audio id="sceneAudio" controls style="width:100%;margin:10px 0;display:none"></audio>

			<img id="sceneImage" class="scene-image" alt="Scene illustration">

			<div class="narrative" id="modalNarrative"></div>

			<div class="dialog-section">
				<h4>üí¨ Dialog</h4>
				<div id="modalDialog" class="chat-bubble"></div>
			</div>

			<div class="interactive-section">
				<h4>üéÆ Interactive Elements</h4>
				<div id="interactiveButtons" class="interactive-buttons"></div>
			</div>

			<div class="controls">
				<button id="prevBtn" class="control-btn">‚Üê Previous Scene</button>
				<button id="nextBtn" class="control-btn">Next Scene ‚Üí</button>
				<button id="vocabBtn" class="scene-btn" style="margin-left: auto;">üìö Unit Vocabulary</button>
			</div>
		</article>
	</div>

	<script src="../FIELA/script.js"></script>
	<script src="units-data.js"></script>
</body>
</html>